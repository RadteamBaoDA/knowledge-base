# Server Configuration
PORT=3001
NODE_ENV=development

# Logging Configuration
# Log level: error, warn, info, debug (default: debug in dev, info in prod)
LOG_LEVEL=debug

# Development Server Configuration
# Frontend and backend share the same domain, backend served at /api
DEV_DOMAIN=localhost
DEV_PORT=5173

# HTTPS Configuration (for local development with custom domain)
HTTPS_ENABLED=false
# Additional domains for SSL certificate (comma-separated)
DEV_ADDITIONAL_DOMAINS=kb

# Shared Storage Domain (for cross-subdomain user info sharing)
# Use parent domain with leading dot (e.g., .abc.com) to share across a.abc.com and b.abc.com
SHARED_STORAGE_DOMAIN=.abc.com

# PostgreSQL Database Configuration
DB_HOST=localhost
DB_PORT=5432
DB_NAME=postgres_db
DB_USER=postgres
DB_PASSWORD=change_me

# RAGFlow Configuration
# Full chat iframe URL (direct URL, no proxy)
RAGFLOW_AI_CHAT_URL=http://localhost:8888/next-chats/share?shared_id=YOUR_SHARED_ID&from=chat&auth=YOUR_AUTH_TOKEN
# Full search iframe URL (direct URL, no proxy)
RAGFLOW_AI_SEARCH_URL=http://localhost:8888/next-search/share?shared_id=YOUR_SHARED_ID&from=search&auth=YOUR_AUTH_TOKEN

# Langfuse Configuration (optional - for future monitoring)
LANGFUSE_SECRET_KEY=sk-lf-xxx
LANGFUSE_PUBLIC_KEY=pk-lf-xxx
LANGFUSE_BASE_URL=https://cloud.langfuse.com

# Microsoft Entra ID (Azure AD) Configuration
AZURE_AD_CLIENT_ID=your-client-id
AZURE_AD_CLIENT_SECRET=your-client-secret
AZURE_AD_TENANT_ID=your-tenant-id
# Callback URL must be registered in Azure Portal
AZURE_AD_REDIRECT_URI=http://localhost:5173/api/auth/callback

# Redis Configuration (for session storage)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Session Configuration
SESSION_SECRET=your-session-secret-change-in-production
# Session TTL in days (default: 7 days)
SESSION_TTL_DAYS=7

# Frontend URL (for CORS and redirects)
FRONTEND_URL=http://localhost:5173
