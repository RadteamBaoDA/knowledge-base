# Server Configuration
PORT=3001
NODE_ENV=development

# Logging Configuration
# Log level: error, warn, info, debug (default: debug in dev, info in prod)
LOG_LEVEL=debug

# Development Server Configuration
# Frontend and backend share the same domain, backend served at /api
DEV_DOMAIN=localhost
DEV_PORT=5173

# HTTPS Configuration (for local development with custom domain)
HTTPS_ENABLED=false
# Additional domains for SSL certificate (comma-separated)
DEV_ADDITIONAL_DOMAINS=kb

# Shared Storage Domain (for cross-subdomain user info sharing)
# Use parent domain with leading dot (e.g., .abc.com) to share across a.abc.com and b.abc.com
SHARED_STORAGE_DOMAIN=.localhost

# Session Store Configuration
# Options: redis | memory
# Default: redis in production, memory in development
SESSION_STORE=redis

# Database Configuration
# Options: postgresql | sqlite
# Default: postgresql in production, sqlite in development
DATABASE_TYPE=postgresql

# PostgreSQL Database Configuration (when DATABASE_TYPE=postgresql)
DB_HOST=localhost
DB_PORT=5432
DB_NAME=knowledge_base
DB_USER=postgres
DB_PASSWORD=change_me

# SQLite Configuration (when DATABASE_TYPE=sqlite)
SQLITE_PATH=.data/knowledge-base.db

# Redis Configuration (when SESSION_STORE=redis)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Session Configuration
SESSION_SECRET=your-session-secret-change-in-production
# Session TTL in days (default: 7 days)
SESSION_TTL_DAYS=7

# Frontend URL (for CORS and redirects)
FRONTEND_URL=http://localhost:5173

# RAGFlow Configuration
# Full chat iframe URL (direct URL, no proxy)
RAGFLOW_AI_CHAT_URL=http://localhost:8888/next-chats/share?shared_id=YOUR_SHARED_ID&from=chat&auth=YOUR_AUTH_TOKEN
# Full search iframe URL (direct URL, no proxy)
RAGFLOW_AI_SEARCH_URL=http://localhost:8888/next-search/share?shared_id=YOUR_SHARED_ID&from=search&auth=YOUR_AUTH_TOKEN

# Langfuse Configuration (optional - for future monitoring)
LANGFUSE_SECRET_KEY=sk-lf-xxx
LANGFUSE_PUBLIC_KEY=pk-lf-xxx
LANGFUSE_BASE_URL=https://cloud.langfuse.com

# Microsoft Entra ID (Azure AD) Configuration
AZURE_AD_CLIENT_ID=your-client-id
AZURE_AD_CLIENT_SECRET=your-client-secret
AZURE_AD_TENANT_ID=your-tenant-id
# Callback URL must be registered in Azure Portal
AZURE_AD_REDIRECT_URI=http://localhost:3001/api/auth/callback

# Admin API key for authentication
ADMIN_API_KEY=change-me-in-production

# Enable root login
ENABLE_ROOT_LOGIN=true
KB_ROOT_USER=admin@localhost
KB_ROOT_PASSWORD=admin

# MinIO Configuration
MINIO_ENDPOINT=localhost
MINIO_PORT=9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_USE_SSL=false
